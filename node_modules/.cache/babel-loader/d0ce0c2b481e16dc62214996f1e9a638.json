{"ast":null,"code":"import _classCallCheck from \"/Users/apple/Downloads/mikroapp-5db12a611b6a06574105a6f51ca416bfcf496a47/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/apple/Downloads/mikroapp-5db12a611b6a06574105a6f51ca416bfcf496a47/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/apple/Downloads/mikroapp-5db12a611b6a06574105a6f51ca416bfcf496a47/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/apple/Downloads/mikroapp-5db12a611b6a06574105a6f51ca416bfcf496a47/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/apple/Downloads/mikroapp-5db12a611b6a06574105a6f51ca416bfcf496a47/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/apple/Downloads/mikroapp-5db12a611b6a06574105a6f51ca416bfcf496a47/src/components/App/index.js\";\nimport React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { Route } from 'react-router-dom';\nimport { ConnectedRouter } from 'connected-react-router';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { withStyles } from '@material-ui/core/styles';\nimport { host } from '../../config';\nimport NavBar from '../common/NavBar/index';\nimport Login from '../Login/index';\nimport Typography from '@material-ui/core/Typography';\nimport WalletsPage from '../Wallet/WalletsPage';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { store } from '../../store';\nimport { history } from '../../history';\nimport './styles.css';\nvar muiTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#F44336'\n    },\n    secondary: {\n      main: '#fff'\n    },\n    action: {\n      selected: '#4696ec1f'\n    }\n  }\n});\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: 'flex'\n    },\n    toolbar: theme.mixins.toolbar\n  };\n};\n/**\n * `Index` component is a container for things like _redux Provider_, _react-router's Router_\n */\n\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this, props));\n    _this.state = {\n      currentUser: {},\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.fetchCurrentUser().then(function (data) {\n        console.log(data);\n\n        _this2.setState({\n          currentUser: data,\n          loading: false\n        });\n      }).catch(function (err) {\n        console.log(err);\n\n        _this2.setState({\n          currentUser: {},\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"fetchCurrentUser\",\n    value: function fetchCurrentUser() {\n      return fetch(\"\".concat(host, \"/api/v2/barong/resource/users/me\"), {\n        credentials: 'same-origin',\n        headers: {\n          Accept: 'application/json'\n        }\n      }).then(function (res) {\n        if (res.ok) {\n          return res.json();\n        }\n\n        throw new Error('Unauthorized!');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          currentUser = _this$state.currentUser,\n          loading = _this$state.loading;\n      return React.createElement(Provider, {\n        store: store,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(MuiThemeProvider, {\n        theme: muiTheme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(ConnectedRouter, {\n        history: history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        user: currentUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.toolbar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/\",\n        exact: true,\n        render: function render() {\n          return !loading && currentUser && (currentUser.email ? React.createElement(Typography, {\n            variant: \"h4\",\n            style: {\n              padding: 40\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, \"You are logged in!\") : React.createElement(Login, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/trade\",\n        exact: true,\n        render: function render() {\n          return React.createElement(Typography, {\n            variant: \"h4\",\n            style: {\n              padding: 40\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107\n            },\n            __self: this\n          }, \"Trades coming soon!\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/wallets\",\n        render: function render() {\n          return React.createElement(WalletsPage, {\n            user: currentUser,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default withStyles(styles)(Index);","map":{"version":3,"sources":["/Users/apple/Downloads/mikroapp-5db12a611b6a06574105a6f51ca416bfcf496a47/src/components/App/index.js"],"names":["React","Component","Provider","Route","ConnectedRouter","CssBaseline","withStyles","host","NavBar","Login","Typography","WalletsPage","MuiThemeProvider","createMuiTheme","store","history","muiTheme","palette","primary","main","secondary","action","selected","styles","theme","root","display","toolbar","mixins","Index","props","state","currentUser","loading","fetchCurrentUser","then","data","console","log","setState","catch","err","fetch","credentials","headers","Accept","res","ok","json","Error","classes","email","padding"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Provider } from 'react-redux';\nimport { Route } from 'react-router-dom';\nimport { ConnectedRouter } from 'connected-react-router';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { withStyles } from '@material-ui/core/styles';\nimport { host } from '../../config';\nimport NavBar from '../common/NavBar/index';\nimport Login from '../Login/index';\nimport Typography from '@material-ui/core/Typography';\nimport WalletsPage from '../Wallet/WalletsPage';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { store } from '../../store';\nimport { history } from '../../history';\nimport './styles.css';\n\nconst muiTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#F44336'\n    },\n    secondary: {\n      main: '#fff'\n    },\n    action: {\n      selected: '#4696ec1f'\n    }\n  },\n});\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n  },\n  toolbar: theme.mixins.toolbar\n});\n\n/**\n * `Index` component is a container for things like _redux Provider_, _react-router's Router_\n */\nclass Index extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentUser: {},\n      loading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchCurrentUser().then((data) => {\n      console.log(data);\n\n      this.setState({\n        currentUser: data,\n        loading: false,\n      });\n    }).catch((err) => {\n      console.log(err);\n\n      this.setState({\n        currentUser: {},\n        loading: false,\n      });\n    });\n  }\n\n  fetchCurrentUser() {\n    return fetch(`${host}/api/v2/barong/resource/users/me`, {\n      credentials: 'same-origin',\n      headers: { Accept: 'application/json' },\n    }).then((res) => {\n      if (res.ok) { return res.json(); }\n      throw new Error('Unauthorized!');\n    });\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { currentUser, loading } = this.state;\n\n    return (\n      <Provider store={store}>\n        <MuiThemeProvider theme={muiTheme}>\n          <ConnectedRouter history={history}>\n            <div>\n              <NavBar user={currentUser} />\n              <div className={classes.toolbar} />\n              <div className={classes.root}>\n                <CssBaseline />\n                <Route\n                  path=\"/\"\n                  exact\n                  render={() => (\n                    (!loading && currentUser) && (\n                      currentUser.email ? (\n                        <Typography variant=\"h4\" style={{padding: 40}}>You are logged in!</Typography>\n                      ) : <Login />\n                    )\n                  )}\n                />\n                <Route\n                  path=\"/trade\"\n                  exact\n                  render={() => (\n                    <Typography variant=\"h4\" style={{padding: 40}}>Trades coming soon!</Typography>\n                  )}\n                />\n                <Route\n                  path=\"/wallets\"\n                  render={() => <WalletsPage user={currentUser} />}\n                />\n              </div>\n            </div>\n          </ConnectedRouter>\n        </MuiThemeProvider>\n      </Provider>\n    );\n  }\n}\n\nexport default withStyles(styles)(Index);\n"]},"metadata":{},"sourceType":"module"}